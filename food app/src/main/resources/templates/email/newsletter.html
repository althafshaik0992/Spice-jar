<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>Weekly picks</title>
  <style>
    body{margin:0;background:#f6fbf6;font-family:Segoe UI,Roboto,Arial,sans-serif}
    .card{max-width:680px;margin:24px auto;background:#fff;border-radius:12px;overflow:hidden;
      box-shadow:0 8px 24px rgba(0,0,0,.06)}
    .header{background:#218838;color:#fff;padding:18px 24px;font-weight:800}
    .grid{padding:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    .item{border:1px solid #e8eee8;border-radius:10px;overflow:hidden}
    .item img{width:100%;height:140px;object-fit:cover;display:block}
    .item .b{padding:10px}
    .muted{color:#666;font-size:12px}
    .footer{padding:16px 24px;color:#777;font-size:12px;text-align:center}
  </style>
</head>
<body>
<div class="card">
  <div class="header">This week’s fresh picks</div>
  <div class="grid">
    <div class="item" th:each="p : ${products}">
      <img th:src="${p.imageUrl != null ? p.imageUrl : 'https://via.placeholder.com/400x300?text=Spice'}" alt="">
      <div class="b">
        <div style="font-weight:700" th:text="${p.name}">Product</div>
        <div class="muted">$<span th:text="${#numbers.formatDecimal(p.price,1,'COMMA',2,'POINT')}">0.00</span></div>
      </div>
    </div>
  </div>
  <div class="footer">
    Don’t want these emails? <a th:href="${unsubLink}">Unsubscribe</a>.
  </div>
</div>
</body>
</html>
